<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Minnesota Population Center" />

<meta name="date" content="2019-03-08" />

<title>ipumsr Example - NHGIS</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore"><code>ipumsr</code> Example - NHGIS</h1>
<h4 class="author"><em>Minnesota Population Center</em></h4>
<h4 class="date"><em>2019-03-08</em></h4>



<div id="ipums---nhgis-extraction-and-analysis" class="section level1">
<h1>IPUMS - NHGIS Extraction and Analysis</h1>
<div id="exercise-1" class="section level2">
<h2>Exercise 1</h2>
<p>OBJECTIVE: Gain an understanding of how the NHGIS datasets are structured and how they can be leveraged to explore your research interests. This exercise will use an NHGIS dataset to explore slavery in the United States in 1830.</p>
<p>This vignette is adapted from the NHGIS Data Training Exercise available here: <a href="https://pop.umn.edu/sites/pop.umn.edu/files/nhgis_training_ex1_2017-01.pdf" class="uri">https://pop.umn.edu/sites/pop.umn.edu/files/nhgis_training_ex1_2017-01.pdf</a></p>
<div id="research-question" class="section level3">
<h3>Research Question</h3>
<p>What was the state‐level distribution of slavery in 1830?</p>
</div>
<div id="objectives" class="section level3">
<h3>Objectives</h3>
<ul>
<li>Create and download an NHGIS data extract</li>
<li>Unzip data file and open in R</li>
<li>Analyze the data using R</li>
<li>Validate data analysis work using answer key</li>
</ul>
</div>
</div>
<div id="download-extract-from-ipums-website" class="section level2">
<h2>Download Extract from IPUMS Website</h2>
<ol style="list-style-type: decimal">
<li><strong>Log in to NHGIS</strong></li>
</ol>
<ul>
<li>Go to <a href="https://www.nhgis.org" class="uri">https://www.nhgis.org</a> and click on ‘Login’ in the top right.</li>
<li>If you have already registered on any Minnesota Population Center website…
<ul>
<li>If you remember your password, log in now. Otherwise, click the “Forgot your password?” link on the right and follow the instructions.</li>
</ul></li>
<li>If you have not already registered…
<ul>
<li>Click on the “Create an account”&quot; link on the right, fill in the required information, and submit your registration.</li>
</ul></li>
<li>You will then enter the NHGIS Data Finder…</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><strong>Find Tables</strong></li>
</ol>
<ul>
<li>Quick instructions
<ul>
<li>Apply any combination of the four filters below to find 1830 slavery related tables
<ul>
<li><strong>Geographic Levels</strong> = ‘State’</li>
<li><strong>Years</strong> = ‘1830’</li>
<li><strong>Topics</strong> = ‘Slavery’</li>
<li><strong>Datasets</strong> = ‘1830_cPop’</li>
</ul></li>
</ul></li>
<li>Guided instructions
<ul>
<li>Suppose you were interested not only in slavery, but in all that’s covered by the 1830 Census.
<ul>
<li>To view all available 1830 data, use only the Years Filter set to ‘1830’.</li>
</ul></li>
</ul></li>
</ul>
<p>Q1) How many tables are available from the 1830 Census?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: Fifteen (15)</span></code></pre></div>
<p>Q2) Other than slave status, what are some other topics could we learn about for 1830?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: Population that is urban, particular ages, deaf and dumb, blind, and foreign born</span>
<span class="co">#        not naturalized.</span></code></pre></div>
<ul>
<li><ul>
<li>Locate the Desired Table
<ul>
<li>Let’s focus in on the slavery topic. To narrow the results, apply the Topics Filter of ‘Slavery’. (You can find it at the bottom of the list of POPULATION topics.)</li>
<li>The Select Data grid now lists all the tables related to the topic of Slavery. If you don’t also have the Years Filter on, scroll down to find the 1830 tables, or utilize additional filters to further limit the available tables.</li>
<li>Locate this 1830 table and answer the questions that follow: “NT12. Race/Slave Status by Sex”</li>
</ul></li>
<li>Learn About the Table in the Data Finder</li>
</ul></li>
</ul>
<p>Q3) Click the table name to see additional information. How many variables does this table contain?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: Six (6)</span></code></pre></div>
<p>Q4) For which geographic levels is the table available?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: Nation, State, &amp; County</span></code></pre></div>
<p>Q5) Close the table pop‐up window and inspect the Select Data table… What is the universe for this table?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: Persons</span></code></pre></div>
<p>Q6) What differentiates this table from the other available slavery tables from 1830?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: It includes the counts of &quot;white&quot; persons, in addition to &quot;colored&quot; persons</span></code></pre></div>
<p>Q7) Name a percentage or ratio this table would allow us to calculate that the other tables would not, based on the counts available in each table?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: Percentage of total population in slavery, or ratio of slave:free population</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li><strong>Create a Data Extract</strong> Creating a data extract requires the user to select the table(s), specify a geographic level, and select the data layout structure…</li>
</ol>
<ul>
<li>Click the plus sign to the left of the table name to add table NT12 to your Data Cart.</li>
<li>Click on the “GIS Boundary Files” Tab</li>
<li>Click on the plus sign to the left of the State Geographic Level Table</li>
<li>Click the green Continue button in your Data Cart.</li>
<li>On the Data Options screen, select the geographic level of ‘State’.</li>
<li>Click the green Continue button in your Data Cart.</li>
<li>On the Review and Submit screen, select the “Comma delimited (best for GIS)” option (it doesn’t matter if you include the descriptive header rows or not), add an extract description if you wish, and click Submit.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li><strong>Download the Data Extract</strong> From the Extracts History page, you will be able to download your data extract once it has finished processing, typically within a few minutes. You may leave this page and return once you have received the email alerting you to your finished extract.</li>
</ol>
<p>If you refresh your browser window (click on the loop icon at top, or press F5), you will see the extract status change from ‘queued’ to ‘in progress’ to ‘complete’, at which time you will be able to click the ‘tables’ link to download the data.</p>
<ul>
<li>Return to the Extracts History page if not currently there.</li>
<li>Right‐click on the ‘tables’ link for the extract you created.</li>
<li>Choose ‘Save Target As…’ (or ‘Save link as…’).</li>
<li>Save the zip file into ‘Documents’.</li>
<li>Repeat the process for the GIS data (right-click, choose ‘Save Target As…’, …)</li>
<li>The R package can read the extracts as zip files, or if you wish to open in other programs, you can unzip them, by: Right‐clicking on the ‘nhgis0001_csv.zip’ file, and select Extract All… Then click the Extract button. (Repeat for the shape if you desire).</li>
</ul>
</div>
<div id="getting-the-data-into-r" class="section level2">
<h2>Getting the data into R</h2>
<p>You will need to change the filepaths noted below to the place where you have saved the extracts.</p>
</div>
<div id="getting-the-data-into-r-1" class="section level2">
<h2>Getting the data into R</h2>
<p>You will need to change the filepaths noted below to the place where you have saved the extracts.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ipumsr)
<span class="kw">library</span>(sf)

<span class="co"># Change these filepaths to the filepaths of your downloaded extract</span>
nhgis_csv_file &lt;-<span class="st"> &quot;nhgis0001_csv.zip&quot;</span>
nhgis_shp_file &lt;-<span class="st"> &quot;nhgis0001_shape.zip&quot;</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nhgis_ddi &lt;-<span class="st"> </span><span class="kw">read_ipums_codebook</span>(nhgis_csv_file) <span class="co"># Contains metadata, nice to have as separate object</span>
nhgis &lt;-<span class="st"> </span><span class="kw">read_nhgis_sf</span>(
  <span class="dt">data_file =</span> nhgis_csv_file,
  <span class="dt">shape_file =</span> nhgis_shp_file
)
<span class="co">#&gt; Use of data from NHGIS is subject to conditions including that users should cite</span>
<span class="co">#&gt; the data appropriately. Use command `ipums_conditions()` for more details.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Reading data file...</span>
<span class="co">#&gt; Reading geography...</span>
<span class="co">#&gt; options:        ENCODING=latin1 </span>
<span class="co">#&gt; Reading layer `US_state_1830' from data source `C:\Users\gfellis\AppData\Local\Temp\RtmpGiqyYi\file327030d11654\US_state_1830.shp' using driver `ESRI Shapefile'</span>
<span class="co">#&gt; Simple feature collection with 29 features and 7 fields</span>
<span class="co">#&gt; geometry type:  MULTIPOLYGON</span>
<span class="co">#&gt; dimension:      XY</span>
<span class="co">#&gt; bbox:           xmin: -1389608 ymin: -1337508 xmax: 2258225 ymax: 1408188</span>
<span class="co">#&gt; epsg (SRID):    NA</span>
<span class="co">#&gt; proj4string:    +proj=aea +lat_1=29.5 +lat_2=45.5 +lat_0=37.5 +lon_0=-96 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs</span></code></pre></div>
<p>Note that <code>read_nhgis_sf</code> relies on package <code>sf</code>. You can also read NHGIS data into the format used by package <code>sp</code> with function <code>read_nhgis_sp</code>.</p>
</div>
<div id="exercises" class="section level2">
<h2>Exercises</h2>
<p>These exercises include example code written in the “tidyverse” style, meaning that they use the dplyr package. This package provides easy to use functions for data analysis, including <code>mutate()</code>, <code>select()</code>, <code>arrange()</code>, <code>slice()</code> and the pipe (<code>%&gt;%</code>). There a numerous other ways you could solve these answers, including using the base R, the <code>data.table</code> package and others.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr, <span class="dt">warn.conflicts =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div id="analyze-the-data" class="section level3">
<h3>Analyze the Data</h3>
<p>Q8) How many states/territories are included in this table?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw">table</span>(nhgis<span class="op">$</span>STATE))
<span class="co">#&gt; [1] 28</span>

<span class="co">#     A:  Twenty‐Eight (28)</span></code></pre></div>
<p>Q9) Why do you think other states are missing?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(nhgis<span class="op">$</span>STATE)
<span class="co">#&gt; </span>
<span class="co">#&gt;              Alabama   Arkansas Territory          Connecticut </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;             Delaware District Of Columbia    Florida Territory </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;              Georgia             Illinois              Indiana </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;             Kentucky            Louisiana                Maine </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;             Maryland        Massachusetts   Michigan Territory </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;          Mississippi             Missouri        New Hampshire </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;           New Jersey             New York       North Carolina </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;                 Ohio         Pennsylvania         Rhode Island </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;       South Carolina            Tennessee              Vermont </span>
<span class="co">#&gt;                    1                    1                    1 </span>
<span class="co">#&gt;             Virginia </span>
<span class="co">#&gt;                    1</span>
<span class="co">#     A: In 1830, there were not any other states yet! Every decennial census is a </span>
<span class="co">#        historical snapshot, and NHGIS provides census counts just as they were </span>
<span class="co">#        originally reported without &quot;filling in&quot; any information for newer areas.</span></code></pre></div>
<p>Q10) Create a new variable called total_pop, with the total population for each state, by summing the counts in columns ABO001 to ABO006. Which state had the largest population?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nhgis &lt;-<span class="st"> </span>nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">total_pop =</span> ABO001 <span class="op">+</span><span class="st"> </span>ABO002 <span class="op">+</span><span class="st"> </span>ABO003 <span class="op">+</span><span class="st"> </span>ABO004 <span class="op">+</span><span class="st"> </span>ABO005 <span class="op">+</span><span class="st"> </span>ABO006)

nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(STATE, total_pop) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(total_pop)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)
<span class="co">#&gt;            STATE total_pop</span>
<span class="co">#&gt; 1       New York   1913006</span>
<span class="co">#&gt; 2   Pennsylvania   1348233</span>
<span class="co">#&gt; 3       Virginia   1211405</span>
<span class="co">#&gt; 4           Ohio    937903</span>
<span class="co">#&gt; 5 North Carolina    737987</span>

<span class="co">#     A: New  York</span></code></pre></div>
<p>Q11) Create a variable called slave_pop, with the total slave population by summing the variables ABO003 and ABO004. Which state had the largest slave population?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nhgis &lt;-<span class="st"> </span>nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">slave_pop =</span> ABO003 <span class="op">+</span><span class="st"> </span>ABO004)

nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(STATE, slave_pop) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(slave_pop)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)
<span class="co">#&gt;            STATE slave_pop</span>
<span class="co">#&gt; 1       Virginia    469757</span>
<span class="co">#&gt; 2 South Carolina    315401</span>
<span class="co">#&gt; 3 North Carolina    245601</span>
<span class="co">#&gt; 4        Georgia    217531</span>
<span class="co">#&gt; 5       Kentucky    165213</span>

<span class="co">#     A: Virginia </span></code></pre></div>
<p>Q12) Create a variable called pct_slave with the Slave Population divided by the Total Population. Which states had the highest and lowest Percent Slave Population?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nhgis &lt;-<span class="st"> </span>nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pct_slave =</span> slave_pop <span class="op">/</span><span class="st"> </span>total_pop)

nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(STATE, pct_slave) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(pct_slave <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="kw">min</span>(pct_slave, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="kw">max</span>(pct_slave, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)))
<span class="co">#&gt;            STATE pct_slave</span>
<span class="co">#&gt; 1        Vermont 0.0000000</span>
<span class="co">#&gt; 2 South Carolina 0.5426861</span>

<span class="co">#     A: South Carolina (54.27%) and Vermont (0.00%)</span></code></pre></div>
<p>Q13) Are there any surprises, or is it as you expected?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(pct_slave <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(STATE, slave_pop, total_pop, pct_slave)
<span class="co">#&gt;            STATE slave_pop total_pop pct_slave</span>
<span class="co">#&gt; 1 South Carolina    315401    581185 0.5426861</span>
<span class="co">#&gt; 2      Louisiana    109588    215529 0.5084606</span>

nhgis <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.data.frame</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(STATE <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;New Jersey&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(STATE, slave_pop, total_pop, pct_slave) 
<span class="co">#&gt;        STATE slave_pop total_pop    pct_slave</span>
<span class="co">#&gt; 1   New York        75   1913006 3.920531e-05</span>
<span class="co">#&gt; 2 New Jersey      2254    320823 7.025681e-03</span>

<span class="co">#     A: Possibilities: Did you know some states had more slaves than free persons? Did</span>
<span class="co">#        you know that some “free states” were home to substantial numbers of slaves?</span></code></pre></div>
</div>
<div id="inspect-the-codebook" class="section level3">
<h3>Inspect the Codebook</h3>
<p>Open the .txt codebook file that is in the same folder as the comma delimited file you have already analyzed. The codebook file is a valuable reference containing information about the table or tables you’ve downloaded.</p>
<p>Some of the information provided in the codebook can be read into R, using the function <code>read_ipums_codebook()</code>.</p>
<p>Q14) What is the proper citation to provide when using NHGIS data in publications or researcher reports?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cat</span>(<span class="kw">ipums_file_info</span>(nhgis_ddi, <span class="st">&quot;conditions&quot;</span>))
<span class="co">#&gt;  </span>
<span class="co">#&gt; All persons are granted a limited license to use this documentation and the</span>
<span class="co">#&gt; accompanying data, subject to the following conditions:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * Publications and research reports employing NHGIS data (either tabular or GIS)</span>
<span class="co">#&gt;   must cite it appropriately. The citation should include the following:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     Steven Manson, Jonathan Schroeder, David Van Riper, and Steven Ruggles. </span>
<span class="co">#&gt;     IPUMS National Historical Geographic Information System: Version 12.0 [Database]. </span>
<span class="co">#&gt;     Minneapolis: University of Minnesota. 2017. </span>
<span class="co">#&gt;     http://doi.org/10.18128/D050.V12.0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * Publications and research reports employing school attendance areas data</span>
<span class="co">#&gt;   (either tabular or GIS) must cite it appropriately. The citation should</span>
<span class="co">#&gt;   include the following:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     The College of William and Mary and the Minnesota Population Center.</span>
<span class="co">#&gt;     School Attendance Boundary Information System (SABINS): Version 1.0.</span>
<span class="co">#&gt;     Minneapolis, MN: University of Minnesota 2011.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * For policy briefs or articles in the popular press, we recommend that you cite the use of NHGIS data as follows:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     IPUMS NHGIS, University of Minnesota, www.nhgis.org.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; * If possible, citations involving school attendance areas should also include</span>
<span class="co">#&gt;   the URL for the SABINS site:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     http://www.sabinsdata.org/.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; In addition, we request that users send us a copy of any publications, research</span>
<span class="co">#&gt; reports, or educational material making use of the data or documentation.</span>
<span class="co">#&gt; Printed matter should be sent to:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     NHGIS</span>
<span class="co">#&gt;     Minnesota Population Center</span>
<span class="co">#&gt;     University of Minnesota</span>
<span class="co">#&gt;     50 Willey Hall</span>
<span class="co">#&gt;     225 19th Ave S</span>
<span class="co">#&gt;     Minneapolis, MN 55455</span>

<span class="co">#     A: Minnesota Population Center. National Historical Geographic Information</span>
<span class="co">#        System: Version 11.0 [Database]. Minneapolis: University of Minnesota. 2016.</span>
<span class="co">#        http://doi.org/10.18128/D050.V11.0.</span></code></pre></div>
<p>Q15) What is the email address for NHGIS to share any research you have published? (You can also send questions you may have about the site. We’re happy to help!)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#     A: (You can also send questions you may have about the site. We're happy to help!)</span>
<span class="co">#     nhgis@umn.edu</span></code></pre></div>
</div>
<div id="bonus---make-maps-using-r" class="section level3">
<h3>Bonus - Make Maps using R</h3>
<p>One of the reasons we are excited about bringing IPUMS data to R is the GIS capabilities available for free in R.</p>
<p>Q16) Make a map of the percent of the population that are slaves.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">ggplot</span>(<span class="dt">data =</span> nhgis, <span class="kw">aes</span>(<span class="dt">fill =</span> pct_slave)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_sf</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">scale_fill_continuous</span>(<span class="st">&quot;&quot;</span>, <span class="dt">labels =</span> scales<span class="op">::</span>percent) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(
    <span class="dt">title =</span> <span class="st">&quot;Percent of Population that was Enslaved by State&quot;</span>,
    <span class="dt">subtitle =</span> <span class="st">&quot;1830 Census&quot;</span>,
    <span class="dt">caption =</span> <span class="kw">paste0</span>(<span class="st">&quot;Source: &quot;</span>, <span class="kw">ipums_file_info</span>(nhgis_ddi, <span class="st">&quot;ipums_project&quot;</span>))
  )</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
